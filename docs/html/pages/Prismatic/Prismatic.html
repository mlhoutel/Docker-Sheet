


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Prismatic &mdash; Sigma Help Sheets</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/sumblack.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/debug.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/sigmwhite.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Sciences</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Maths/Maths.html">Maths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Physics/Physics.html">Physics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chemistry/Chemistry.html">Chemistry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Computer Science/Computer Science.html">Computer Science</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Algorithms/Algorithms.html">Algorithms</a></li>
</ul>
<p class="caption"><span class="caption-text">Desktop Languages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Cpp/Cpp.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Python/Python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Csharp/Csharp.html">C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Java/Java.html">Java</a></li>
</ul>
<p class="caption"><span class="caption-text">Web Languages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../JavaScript/JavaScript.html">JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Php/Php.html">Php</a></li>
</ul>
<p class="caption"><span class="caption-text">System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Windows/Windows.html">Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unix/Unix.html">Unix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Database/Database.html">DataBases</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Sphinx/Sphinx.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Docker/Docker.html">Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Music/Music.html">Music</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Cooking/Cooking.html">Cooking</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Help-Sheet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Prismatic</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/pages/Prismatic/Prismatic.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<script>
    var currentpath = "D:/Libraries"
    var newpath = "D:/Libraries"

    var label
    var textbox
    var button
    var content

    const isPath = /^([a-zA-Z]:)((\/|\\)[a-zA-Z0-9_-]+)*/gmi

    window.addEventListener("DOMContentLoaded", (event) => {

        console.log("DOMContentLoaded")
        
        UpdateElements()

        function UpdateElements() {
            label = document.getElementById("path_label")
            textbox = document.getElementById("path_textbox")
            button = document.getElementById("path_button")
            content = document.getElementsByClassName("rst-content")[0]

            button.addEventListener('click', function(){
                
                UpdatePath()
                
            }, false)
        }

        function UpdatePath() {
            UpdateElements()
            newpath = textbox.value
            if (isPath.test(newpath)) {
                let currentRegular = new RegExp(currentpath, "gi");
                content.innerHTML = content.innerHTML.replace(currentRegular, newpath);
            
                currentpath = newpath
                UpdateElements()

                label.innerHTML = "You can edit the path to the root directory: (current: " + currentpath + ")"
            } else {
                //label.innerHTML = "You can edit the path to the root directory: (current: " + currentpath + ")</br>" + newpath + " is not a regular expression for a windows Path"
            }

            textbox.value = currentpath
        }
    })
</script><div class="section" id="prismatic">
<h1>Prismatic<a class="headerlink" href="#prismatic" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Welcome for this intruction manual. I wrote it to help people compiling prismatic from the source code (<a class="reference external" href="https://github.com/prism-em/prismatic">here</a>).
I tried to make it as easy as possible to reproduce, even for peoples that are not familiar with the compilation of c++ libraries.</p>
<p>I tried to make the compilation trivial by :</p>
<ul class="simple">
<li><p>putting the process in the same order as I did, so I recommand to repeat the compilations in the same order as describled here to understand the process (CMD &gt; GUI &gt; GPU)</p></li>
<li><p>organizing a setup so you can take example on it, you can adapt the root directory of the folder organisation, or even make one that correspond better to what you need, but you will have to manually adapt the links and maybe meet some errors.</p></li>
<li><p>creating a <em>Ressources</em> section for each major step, where I put some of the ressources (webpages, forums…) where I found responses at some problems I had.</p></li>
</ul>
<div class="section" id="tools">
<h3>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h3>
<p>You will have to install some tools and libraries in order to build prismatic from source:</p>
<p>Tools needed:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://visualstudio.microsoft.com/fr/vs/older-downloads/">Visual Studio 15 2017</a> (You can also use Visual Studio 2019, but I only did the process with the SDK 14.1)</p></li>
<li><p><a class="reference external" href="https://cmake.org/download/">CMake</a> (Prismatic build whas made with its and it realy help to compile the dependency libraries)</p></li>
<li><p><a class="reference external" href="https://www.7-zip.org/">7zip</a> (We will need to dectompress and Untar some file so it’s a good choice)</p></li>
</ul>
<p>Others Tools (Python library, GUI and GPU):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.anaconda.com/products/individual">Anaconda 3.7</a> (Make sur to have python in version 3.7, I met some problems in v3.8)</p></li>
<li><p><a class="reference external" href="https://developer.nvidia.com/cuda-downloads">CUDA</a> (Cuda is developped by Nvidia, it provide a compiler for the GPU c++ code)</p></li>
<li><p><a class="reference external" href="http://ftp.fau.de/qtproject/archive/online_installers/3.2/">Qt</a> (Qt is a great library to build GUI, it is used in prismatic)</p></li>
</ul>
<p>Libraries:</p>
<ul class="simple">
<li><p><a class="reference external" href="#boost">BOOST</a> (Utility library and )</p></li>
<li><p><a class="reference external" href="#fftw3">FFTW3</a> (Fast library for Fast Fourier Transform)</p></li>
<li><p><a class="reference external" href="#hdf5">HDF5</a> (Library for the hdf file compression, permit to save and read big datasets)</p></li>
</ul>
<p>Compilation:</p>
<ul class="simple">
<li><p><a class="reference external" href="#prismatic">Prismatic</a></p></li>
<li><p><a class="reference external" href="#prismatic-gui">Prismatic GUI</a></p></li>
<li><p><a class="reference external" href="#prismatic-gpu">Prismatic GPU</a></p></li>
</ul>
</div>
<div class="section" id="folder-organisation">
<h3>Folder organisation<a class="headerlink" href="#folder-organisation" title="Permalink to this headline">¶</a></h3>
<p>For a clarity matter, and to help the user to do the process without having errors from the links, I will put my personal config for this configuration with the links like that: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8/Build64/</span></code></p>
<blockquote>
<div><p>You can edit the first part (<code class="docutils literal notranslate"><span class="pre">D:/Libraries/</span></code>) and you can put your folders wherever you want if you don’t want the same folder configuration as me, but you will have to edit every links for the Build of prismatic and make sure that it match your configuration.</p>
</div></blockquote>
<p><label id="path_label" for="path">You can edit the path to the root directory: (current: D:/Libraries)</label>
<input id="path_textbox" type="text" name="path" minlength="2" maxlength="60" size="70" value="D:/Libraries">
<input id="path_button" type="button" value="Update"></p>
<p>The global organisation of my folders look like that:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries
├─── Downloads
│    ├─── boost_1_72_0.zip
│    ├─── cuda_10.2.89_win10_network.exe
│    ├─── fftw-3.3.8.tar.gz
│    ├─── hdf5-1.12.0.zip
│    ├─── qt-unified-windows-x86-3.2.2-online.exe
│    └─── vs_Community.exe
│
├─── boost_1_72_0
│    ├─── boost 						//Header files
│    ├─── stage/lib 						//Library files
│    ├─── Build64						//Build
│    └─── BuildTest						//VS Test project
├─── fftw-3.3.8
│    ├─── api							//Header files
│    ├─── Build64						//Build Float
│    │    └─── Release						//Library files
│    ├─── Build64Default					//Build Default (Tests)
│    │    └─── Release	
│    └─── BuildTest						//VS Test project
├─── hdf5-1.12.0
│    ├─── Build64						//Build
│    │    └─── _CPack_Packages/win64/ZIP/HDF5-1.12.0-win64	//Package
│    │         └─── include					//Header files
│    │         └─── lib						//Library files
│    └─── BuildTest						//VS Test project
├─── Qt/5.14.2/msvc2017_64
│    ├─── include						//Header files
│    └─── lib							//Library files
│ 
└─── prismatic
     ├─── Build64
     ├─── Build64GUI
     ├─── Build64GPU
     ├─── include						//Header files
     ├─── src							//Library files
     └─── Qt							//GUI files

C:/
├─── Program Files/NVIDIA GPU Computing Toolkit
│    └─── CUDA/v10.2
└─── Program Files (x86)/Microsoft Visual Studio    
     ├─── 2017/Community
     └─── 2019/Community
</pre></div>
</div>
</div>
</div>
<div class="section" id="boost">
<h2>Boost<a class="headerlink" href="#boost" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ressources">
<h3>Ressources<a class="headerlink" href="#ressources" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://boostorg.github.io/build/manual/develop/index.html#bbv2.overview.configuration">Boost b2 tool</a></p></li>
<li><p><a class="reference external" href="https://github.com/boostorg/wiki/wiki/Getting-Started%3A-Overview">Boostorg wiki</a></p></li>
<li><p><a class="reference external" href="https://www.boost.org/doc/libs/1_72_0/more/getting_started/windows.html">Boost Windows</a></p></li>
<li><p><a class="reference external" href="https://stackoverflow.com/questions/43946538/how-to-build-boost-1-64-in-64-bits/43950508">Build Boost x64</a></p></li>
</ul>
</div>
<div class="section" id="compiling-boost">
<h3>Compiling BOOST<a class="headerlink" href="#compiling-boost" title="Permalink to this headline">¶</a></h3>
<div class="section" id="download-boost-1-72-0-zip">
<h4>1. Download <a class="reference external" href="https://sourceforge.net/projects/boost/files/boost/1.72.0/">boost_1_72_0.zip</a><a class="headerlink" href="#download-boost-1-72-0-zip" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="unzip-the-file-and-put-it-in-d-libraries">
<h4>2. Unzip the file and put it in <code class="docutils literal notranslate"><span class="pre">D:/Libraries/</span></code><a class="headerlink" href="#unzip-the-file-and-put-it-in-d-libraries" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="open-a-cmd-in-the-boost-directory">
<h4>3. Open a cmd in the <em>Boost</em> directory<a class="headerlink" href="#open-a-cmd-in-the-boost-directory" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> D:/Libraries/boost_1_72_0
bootstrap
</pre></div>
</div>
<p><strong>Win32bit system:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/boost_1_72_0/Build32

b2 -j8 --build-dir<span class="o">=</span><span class="s2">&quot;Build32&quot;</span> <span class="nv">toolset</span><span class="o">=</span>msvc-14.1 <span class="nv">threading</span><span class="o">=</span>multi runtime-link<span class="o">=</span>shared --build-type<span class="o">=</span><span class="nb">complete</span> stage 
</pre></div>
</div>
<p><strong>Win64bit system</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/boost_1_72_0/Build64

b2 -j8 --build-dir<span class="o">=</span><span class="s2">&quot;Build64&quot;</span> <span class="nv">toolset</span><span class="o">=</span>msvc-14.1 address-model<span class="o">=</span><span class="m">64</span> <span class="nv">architecture</span><span class="o">=</span>x86 <span class="nv">link</span><span class="o">=</span>static <span class="nv">threading</span><span class="o">=</span>multi runtime-link<span class="o">=</span>shared --build-type<span class="o">=</span><span class="nb">complete</span> stage 
</pre></div>
</div>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">-j8</span></code> indicate the number of threads availlable to compile this library to faster the build (boost is a raltively big library so the process take some time to compile, but don’t put more threas than availlable because it can result in errors.<br /><code class="docutils literal notranslate"><span class="pre">build-dir</span></code> is the directory for the temporaryy files and the build settings.<br /><code class="docutils literal notranslate"><span class="pre">toolset</span></code> is the compilator, mscv-14.1 (to 15) for the Visual Studio 2017 compilator.<br /><code class="docutils literal notranslate"><span class="pre">address-model</span></code> and architecture permit to have the library in x64 while building on a x86 machine.<br /><code class="docutils literal notranslate"><span class="pre">link</span></code> is for building the library into static mode (I also want to build fftw in static instead of dynamic but I don’t know if it is possible).<br /><code class="docutils literal notranslate"><span class="pre">theading</span></code> is for using the threads (compilation of library use?)<br /><code class="docutils literal notranslate"><span class="pre">stage</span></code> at the end is the folder where the library will be built. I though I could change it to put my own name for the compilation folder but then the library didn’t worked well… (to test?)</p>
</div></blockquote>
</div>
</div>
<div class="section" id="testing-boost">
<h3>Testing BOOST<a class="headerlink" href="#testing-boost" title="Permalink to this headline">¶</a></h3>
<div class="section" id="open-visual-studio-2017-and-create-a-new-c-console-application-project-into-a-new-directory">
<h4>4. Open Visual Studio 2017 and create a new C++ console application project into a new directory<a class="headerlink" href="#open-visual-studio-2017-and-create-a-new-c-console-application-project-into-a-new-directory" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/boost_1_72_0/BuildTest
</pre></div>
</div>
</div>
<div class="section" id="add-the-test-code-from-here-at-the-point-6-link-your-program-to-a-boost-library">
<h4>4.1 Add the test code from <a class="reference external" href="https://www.boost.org/doc/libs/1_72_0/more/getting_started/windows.html">here</a> at the point 6 (Link Your Program to a Boost Library)<a class="headerlink" href="#add-the-test-code-from-here-at-the-point-6-link-your-program-to-a-boost-library" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;boost/regex.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">line</span><span class="p">;</span>
    <span class="n">boost</span><span class="o">::</span><span class="n">regex</span> <span class="n">pat</span><span class="p">(</span> <span class="s">&quot;^Subject: (Re: |Aw: )*(.*)&quot;</span> <span class="p">);</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">getline</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">,</span> <span class="n">line</span><span class="p">);</span>
        <span class="n">boost</span><span class="o">::</span><span class="n">smatch</span> <span class="n">matches</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">regex_match</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">matches</span><span class="p">,</span> <span class="n">pat</span><span class="p">))</span>
            <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matches</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="edit-the-project-properties">
<h4>4.2 Edit the project properties<a class="headerlink" href="#edit-the-project-properties" title="Permalink to this headline">¶</a></h4>
<p>Select <strong>All Configurations:</strong> in the top menu and also select the right <strong>Plateform</strong></p>
<ul class="simple">
<li><p><em>Windows SDK Version</em> =&gt; <code class="docutils literal notranslate"><span class="pre">10.0.17763.0</span></code></p></li>
<li><p><em>Tools</em> =&gt; <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">2019</span> <span class="pre">(v142)</span></code></p></li>
<li><p><em>C/C++/Additionnal Include Directories</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/boost_1_72_0</span></code></p></li>
<li><p><em>Linker/General/Additionnal Library Directories</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/boost_1_72_0/stage/lib</span></code></p></li>
</ul>
<p>Select the right plateform at the left of the Run button and then run the code. You can write your mail as a string and it will extract the subject with the regex library from boost.<br /><em>Try with this:</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>This is some test text, only for test purposes. This shouldn&#39;t be re-printed by the regex program.
</pre></div>
</div>
<p><em>Then test with this:</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Subject: This is the subject of the mail that should be printed.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="fftw3">
<h2>Fftw3<a class="headerlink" href="#fftw3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Ressources<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>https://www.youtube.com/watch?v=0qQm5AGB_18</p></li>
<li><p>http://www.fftw.org/download.html</p></li>
</ul>
</div>
<div class="section" id="compiling-fftw">
<h3>Compiling FFTW<a class="headerlink" href="#compiling-fftw" title="Permalink to this headline">¶</a></h3>
<div class="section" id="download-fftw-3-3-8-tar-gz">
<h4>1. Download <a class="reference external" href="http://www.fftw.org/download.html">fftw-3.3.8.tar.gz</a><a class="headerlink" href="#download-fftw-3-3-8-tar-gz" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="open-a-cmd-in-the-downloaded-file-directory">
<h4>2. Open a cmd in the downloaded file directory<a class="headerlink" href="#open-a-cmd-in-the-downloaded-file-directory" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="use-this-command-to-extract-the-file-then-untar-it-in-d-libraries">
<h4>2.1 Use this command to Extract the file then Untar it in <code class="docutils literal notranslate"><span class="pre">D:/Libraries</span></code>:<a class="headerlink" href="#use-this-command-to-extract-the-file-then-untar-it-in-d-libraries" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar xvf fftw-3.3.8.tar.gz -C D:/Libraries/
</pre></div>
</div>
</div>
<div class="section" id="open-a-cmd-in-this-folder">
<h4>3. Open a cmd in this folder<a class="headerlink" href="#open-a-cmd-in-this-folder" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>We use the cmake tool to build the fftw library.
If cmake is not found in the command, add it to the PATH environment variable the link to ‘path/to/CMake/bin’.
All the parameters of the compilation must begin with -D.</p>
</div></blockquote>
<p><strong>Win32bit system:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/fftw-3.3.8/Build32 <span class="p">&amp;</span> <span class="nb">cd</span> D:/Libraries/fftw-3.3.8/Build32

cmake -G <span class="s2">&quot;Visual Studio 15 2017 Win32&quot;</span> -DBUILD_SHARED_LIBS:BOOL<span class="o">=</span>ON -DENABLE_FLOAT:BOOL<span class="o">=</span>ON -DENABLE_THREADS:BOOL<span class="o">=</span>ON D:/Libraries/fftw-3.3.8<span class="s2">&quot;</span>

<span class="s2">cmake --build . --config Release &amp; cmake --build . --config Debug</span>
</pre></div>
</div>
<p><strong>Win64bit system:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/fftw-3.3.8/Build64 <span class="p">&amp;</span> <span class="nb">cd</span> D:/Libraries/fftw-3.3.8/Build64

cmake -G <span class="s2">&quot;Visual Studio 15 2017 Win64&quot;</span> -DBUILD_SHARED_LIBS:BOOL<span class="o">=</span>ON -DBUILD_TESTS:BOOL<span class="o">=</span>ON -DDISABLE_ALLOCA:BOOL<span class="o">=</span>ON -DDISABLE_STATIC:BOOL<span class="o">=</span>ON -DENABLE_FLOAT:BOOL<span class="o">=</span>ON -DENABLE_SHARED:BOOL<span class="o">=</span>ON -DENABLE_THREADS:BOOL<span class="o">=</span>ON -DWITH_COMBINED_THREADS:BOOL<span class="o">=</span>ON -DWITH_OUR_MALLOC16:BOOL<span class="o">=</span>ON <span class="s2">&quot;D:/Libraries/fftw-3.3.8&quot;</span>

cmake --build . --config Release <span class="p">&amp;</span> cmake --build . --config Debug
</pre></div>
</div>
<p><strong>Linux system</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--disable-alloca: as of this writing <span class="o">(</span><span class="m">14</span> July <span class="m">2009</span><span class="o">)</span>, the alloca <span class="k">function</span> seems to be broken under the <span class="m">64</span>-bit MinGW compilers, so when compiling <span class="k">for</span> Win64 you should pass --disable-alloca to tell FFTW not to use that <span class="k">function</span>  
--with-our-malloc16: this is required in order to allocate properly aligned memory <span class="o">(</span><span class="k">for</span> SSE<span class="o">)</span> with gcc  
--with-windows-f77-mangling: this will include Fortran wrappers <span class="k">for</span> some common Windows Fortran compilers <span class="o">(</span>GNU, Intel, and Digital<span class="o">)</span>.  
--enable-shared --disable-static: this will create DLLs instead of static libraries <span class="o">(</span>since MinGW s static-library format seems to be different from Microsoft s<span class="o">)</span>.  
--enable-threads --with-combined-threads: this will include multi-threading support. The second option puts the multi-threading functions into the main FFTW DLL rather than into a separate DLL <span class="o">(</span>the default under Unix<span class="o">)</span><span class="p">;</span> this is required because MinGW can t create DLLs that depend on one another.  
--enable-portable-binary: required <span class="k">if</span> you want to create DLLs that will work on any Intel processor.  
--with-incoming-stack-boundary<span class="o">=</span><span class="m">2</span>: compile FFTW assuming a <span class="m">4</span>-byte alignment. On win32, some versions of gcc assume that the stack is <span class="m">16</span>-byte aligned, but code compiled with other compilers may only guarantee a <span class="m">4</span>-byte alignment, resulting in mysterious segfaults.  

-----------------------------------------------------------------------------
./configure --disable-alloca --with-our-malloc16 --enable-shared --disable-static --enable-float --enable-threads --with-combined-threads
make
make install
</pre></div>
</div>
</div>
</div>
<div class="section" id="testing-fftw">
<h3>Testing FFTW<a class="headerlink" href="#testing-fftw" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>To build the default version of this library in x32, use</p>
</div></blockquote>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/fftw-3.3.8/Build32Default <span class="p">&amp;</span> <span class="nb">cd</span> D:/Libraries/fftw-3.3.8/Build32Default

cmake -DBUILD_SHARED_LIBS:BOOL<span class="o">=</span>ON -DBUILD_TESTS:BOOL<span class="o">=</span>ON -DDISABLE_ALLOCA:BOOL<span class="o">=</span>ON -DDISABLE_STATIC:BOOL<span class="o">=</span>ON -DENABLE_SHARED:BOOL<span class="o">=</span>ON -DENABLE_THREADS:BOOL<span class="o">=</span>ON -DWITH_COMBINED_THREADS:BOOL<span class="o">=</span>ON -DWITH_OUR_MALLOC16:BOOL<span class="o">=</span>ON <span class="s2">&quot;D:/Libraries/fftw-3.3.8&quot;</span>

cmake --build . --config Release <span class="p">&amp;</span> cmake --build . --config Debug
</pre></div>
</div>
<blockquote>
<div><p>You can’t test the float version of fftw &lt;-DENABLE_FLOAT&gt; with the test code I give, so build a default version for test is a good idea</p>
</div></blockquote>
<div class="section" id="id2">
<h4>4. Open Visual Studio 2017 and create a new C++ console application project into a new directory<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/fftw-3.3.8/BuildTest
</pre></div>
</div>
</div>
<div class="section" id="add-the-test-code-from-here">
<h4>4.1 Add the test code from <a class="reference external" href="https://gist.github.com/damian-dz/a5d7d61993597253747b6dfe400805d9">here</a><a class="headerlink" href="#add-the-test-code-from-here" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id3">
<h4>4.2 Edit the project properties<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>Select <strong>All Configurations:</strong> in the top menu and also select the right <strong>Plateform</strong></p>
<ul class="simple">
<li><p><em>C/C++/Additionnal Include Directories</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8/api</span></code></p></li>
<li><p><em>Linker/Input/Additionnal Dependency</em> =&gt; <code class="docutils literal notranslate"><span class="pre">fftw3.lib;(default</span> <span class="pre">system</span> <span class="pre">libraries)</span></code></p></li>
</ul>
<p>Select <strong>Debug:</strong> in the top menu</p>
<ul class="simple">
<li><p><em>Linker/General/Additionnal Library Directories</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8/Build32Default/Debug</span></code></p></li>
<li><p><em>Builds Events/Post-Build Event</em> =&gt; <code class="docutils literal notranslate"><span class="pre">xcopy</span> <span class="pre">/d</span> <span class="pre">/y</span> <span class="pre">&quot;D:/Libraries/fftw-3.3.8/Build32Default/Debug/*.dll&quot;</span> <span class="pre">&quot;$(TargetDir)&quot;</span></code></p></li>
</ul>
<p>Select <strong>Release:</strong> in the top menu</p>
<ul class="simple">
<li><p><em>Linker/General/Additionnal Library Directories</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8/Build32Default/Release</span></code></p></li>
<li><p><em>Builds Events/Post-Build Event</em> =&gt; <code class="docutils literal notranslate"><span class="pre">xcopy</span> <span class="pre">/d</span> <span class="pre">/y</span> <span class="pre">&quot;D:/Libraries/fftw-3.3.8/Build32Default/Release/*.dll&quot;</span> <span class="pre">&quot;$(TargetDir)&quot;</span></code></p></li>
</ul>
<blockquote>
<div><p>Make sure that the compilation is done on the right plateform (x64 or x84) on the top bar or you will have an conflict error message. Also, make sure that the rights .dll are linked at the right compilation version (Debug and Release).<br />FFTW is only compilable in the dynamic version, so the program .exe need the fftw3.dll (or fftw3d.dll for the float version) on the same folder in order to work.<br />the post build event with <code class="docutils literal notranslate"><span class="pre">xcopy</span></code> copy the .dll in the .exe folder, but if it don’t work, you will have an error when launching the .exe that say that the fftw3.dll is missing. You will have to search for this dll in the compiled fftw folder and manually copy it to the .exe program folder.</p>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="hdf5">
<h2>Hdf5<a class="headerlink" href="#hdf5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>Ressources<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://support.hdfgroup.org/ftp/HDF5/current/src/unpacked/release_docs/INSTALL_CMake.txt">Build HDF5</a></p></li>
<li><p><a class="reference external" href="https://support.hdfgroup.org/HDF5/release/cmakebuild.html">CMake HDF5</a></p></li>
<li><p><a class="reference external" href="https://stackoverflow.com/questions/24325508/getting-stared-with-hdf5-on-visual-studio-2013-with-visual-c-2013">HDF5 VS error</a></p></li>
<li><p><a class="reference external" href="https://stackoverflow.com/questions/7397296/linking-hdf5-library-into-visual-c-dll-project-unresolved-external-symbol-i">HDF5 Linking</a></p></li>
<li><p><a class="reference external" href="https://svn.oss.deltares.nl/repos/openearthtools/trunk/fortran/io/netcdf/win32/visual_fortran_6/lib/win32/all/">HDF5 ressources</a></p></li>
</ul>
<p><em>Not necessary</em>: <a class="reference external" href="http://gnuwin32.sourceforge.net/packages/zlib.htm">zlib</a></p>
</div>
<div class="section" id="compiling-hdf5">
<h3>Compiling HDF5<a class="headerlink" href="#compiling-hdf5" title="Permalink to this headline">¶</a></h3>
<div class="section" id="download-hdf5-1-12-0-zip">
<h4>1. Download <a class="reference external" href="https://hdf-wordpress-1.s3.amazonaws.com/wp-content/uploads/manual/HDF5/HDF5_1_12_0/source/hdf5-1.12.0.zip">hdf5-1.12.0.zip</a><a class="headerlink" href="#download-hdf5-1-12-0-zip" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id5">
<h4>2. Unzip the file and put it in <code class="docutils literal notranslate"><span class="pre">D:/Libraries/</span></code><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="open-a-cmd-in-this-directory">
<h4>2.1 Open a cmd in this directory<a class="headerlink" href="#open-a-cmd-in-this-directory" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>Once again we use the cmake tool, this time it’s to build hdf5.<br />All the parameters of the compilation must begin with -D.<br />We only build the Release version for prismatic, if you want both versions, edit <code class="docutils literal notranslate"><span class="pre">-DCMAKE_BUILD_TYPE:STRING</span></code></p>
</div></blockquote>
<p><strong>Win32bit system:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/hdf5-1.12.0/Build32 <span class="p">&amp;</span> <span class="nb">cd</span> D:/Libraries/hdf5-1.12.0/Build32

cmake -G <span class="s2">&quot;Visual Studio 15 2017 Win32&quot;</span> -DCMAKE_BUILD_TYPE:STRING<span class="o">=</span>Release -DBUILD_SHARED_LIBS:BOOL<span class="o">=</span>OFF -DBUILD_TESTING:BOOL<span class="o">=</span>ON -DHDF5_BUILD_TOOLS:BOOL<span class="o">=</span>ON -DHDF5_ENABLE_THREADSAFE:BOOL<span class="o">=</span>ON -DALLOW_UNSUPPORTED:BOOL<span class="o">=</span>ON -DBUILD_TESTING:BOOL<span class="o">=</span>ON <span class="s2">&quot;D:/Libraries/hdf5-1.12.0&quot;</span>

cmake --build . --config Release
</pre></div>
</div>
<p><strong>Win64bit system:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/hdf5-1.12.0/Build64 <span class="p">&amp;</span> D:/Libraries/hdf5-1.12.0/Build64

cmake -G <span class="s2">&quot;Visual Studio 15 2017 Win64&quot;</span> -DCMAKE_BUILD_TYPE:STRING<span class="o">=</span>Release -DBUILD_SHARED_LIBS:BOOL<span class="o">=</span>OFF -DBUILD_TESTING:BOOL<span class="o">=</span>ON -DHDF5_BUILD_TOOLS:BOOL<span class="o">=</span>ON -DHDF5_ENABLE_THREADSAFE:BOOL<span class="o">=</span>ON -DALLOW_UNSUPPORTED:BOOL<span class="o">=</span>ON -DBUILD_TESTING:BOOL<span class="o">=</span>ON <span class="s2">&quot;D:/Libraries/hdf5-1.12.0&quot;</span>

cmake --build . --config Release 
</pre></div>
</div>
<blockquote>
<div><p>This will take some time… If you want to build the Debug library, replace in the commands the <code class="docutils literal notranslate"><span class="pre">Release</span></code> by <code class="docutils literal notranslate"><span class="pre">Debug</span></code>*</p>
</div></blockquote>
</div>
<div class="section" id="now-we-will-use-the-cpack-tool-to-build-a-package-with-the-compiled-library">
<h4>2.2 Now, we will use the cpack tool to build a Package with the compiled library:<a class="headerlink" href="#now-we-will-use-the-cpack-tool-to-build-a-package-with-the-compiled-library" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cpack -C Release CPackConfig.cmake 
</pre></div>
</div>
<blockquote>
<div><p>A package with the compiled library has been created (ex: <em>hdf5-1.12.0/Build64/HDF5-1.12.0-win64.zip</em>).<br />Extract it to the same directory: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/HDF5-1.12.0-win64</span></code></p>
</div></blockquote>
</div>
</div>
<div class="section" id="testing-hdf5">
<h3>Testing HDF5<a class="headerlink" href="#testing-hdf5" title="Permalink to this headline">¶</a></h3>
<div class="section" id="open-a-cmd-in-the-compiled-directory">
<h4>3. Open a cmd in the compiled directory<a class="headerlink" href="#open-a-cmd-in-the-compiled-directory" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> D:/Libraries/hdf5-1.12.0/Build64
ctest . -C Release 
</pre></div>
</div>
</div>
<div class="section" id="check-that-all-tests-are-passed">
<h4>3.1 Check that all Tests are <em>Passed</em><a class="headerlink" href="#check-that-all-tests-are-passed" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id6">
<h4>4. Open Visual Studio 2017 and create a new C++ console application project into a new directory<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/hdf5-1.12.0/BuildTest
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h4>4.1 Add the test code from <a class="reference external" href="https://support.hdfgroup.org/ftp/HDF5/current/src/unpacked/c++/examples/h5tutr_crtdat.cpp">here</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id8">
<h4>4.2 Edit the project properties<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>Select <strong>All Configurations:</strong> in the top menu and also select the right <strong>Plateform</strong></p>
<ul class="simple">
<li><p><em>C/C++/Additionnal Include Directories</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/HDF5-1.12.0-win64/include</span></code></p></li>
<li><p><em>Linker/Genral/Additionnal Libraries repertory</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/HDF5-1.12.0-win64/lib</span></code></p></li>
<li><p><em>Linker/Input/Additionnal Dependency</em> =&gt; <code class="docutils literal notranslate"><span class="pre">libhdf5.lib;libhdf5_cpp.lib;(default</span> <span class="pre">system</span> <span class="pre">libraries)</span></code></p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="prismatic-cmd">
<h2>Prismatic CMD<a class="headerlink" href="#prismatic-cmd" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id9">
<h3>Ressources<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://prism-em.com/docs-compiling/">Prismatic Compilation info</a></p></li>
<li><p><a class="reference external" href="https://www.it-swarm.dev/fr/visual-c%2B%2B/erreur-fatale-lnk1112-le-type-de-machine-du-module-x64-est-en-conflit-avec-le-type-de-machine-cible-x86/969200768/">Error module type</a></p></li>
<li><p><a class="reference external" href="https://support.hdfgroup.org/ftp/HDF5/current/src/unpacked/release_docs/USING_HDF5_VS.txt">HDF5 Linking</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=BAjsCldRMMc">HDF Presentation</a></p></li>
</ul>
<p><em>You can add the libraries directory to the PATH if you want, otherwise you will have to complete the links manually later…</em></p>
<blockquote>
<div><p><kbd>Windows</kbd> + <kbd>”Path”</kbd> =&gt; Edit environment variables/Environment variables/Path/Edit/New
Add these links to the PATH</p>
</div></blockquote>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>D:/Libraries/boost_1_72_0
D:/Libraries/fftw-3.3.8
D:/Libraries/hdf5-1.12.0
</pre></div>
</div>
<div class="section" id="download-prismatic">
<h4>1. Download <a class="reference external" href="https://github.com/prism-em/prismatic">prismatic</a><a class="headerlink" href="#download-prismatic" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> D:/Libraries

git clone https://github.com/prism-em/prismatic.git 
</pre></div>
</div>
</div>
<div class="section" id="create-a-new-folder-ex-prismatic-master-build64-where-the-library-will-be-compiled">
<h4>2. Create a new folder (ex: <em>prismatic-master/Build64</em>) where the library will be compiled<a class="headerlink" href="#create-a-new-folder-ex-prismatic-master-build64-where-the-library-will-be-compiled" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/prismatic/Build64
</pre></div>
</div>
</div>
<div class="section" id="open-the-cmake-gui">
<h4>3. Open the CMake GUI<a class="headerlink" href="#open-the-cmake-gui" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="complete-the-links-with-the-code-source-directory-and-the-build-directory">
<h4>3.1 Complete the links with the code source directory and the build directory<a class="headerlink" href="#complete-the-links-with-the-code-source-directory-and-the-build-directory" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Where is the source code: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic</span></code></p></li>
<li><p>Where to build the binaries: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic/Build64</span></code></p></li>
</ul>
</div>
<div class="section" id="click-on-configure-and-select-visual-studio-15-2017">
<h4>3.2 Click on <em>Configure</em> and select <em>Visual Studio 15 2017</em><a class="headerlink" href="#click-on-configure-and-select-visual-studio-15-2017" title="Permalink to this headline">¶</a></h4>
<p><strong>Win32 system</strong></p>
<ul class="simple">
<li><p>Select <code class="docutils literal notranslate"><span class="pre">Win32</span></code> in the Optional Plateform Generator</p></li>
</ul>
<p><strong>Win64 system</strong></p>
<ul class="simple">
<li><p>Select <code class="docutils literal notranslate"><span class="pre">x64</span></code> in the Optional Plateform Generator</p></li>
</ul>
</div>
<div class="section" id="check-grouped-and-advanced-then-complete-the-missing-links-to-the-compiled-libraries">
<h4>3.3 Check Grouped and Advanced then complete the missing links to the compiled libraries:<a class="headerlink" href="#check-grouped-and-advanced-then-complete-the-missing-links-to-the-compiled-libraries" title="Permalink to this headline">¶</a></h4>
<p><strong>BOOST</strong></p>
<ul class="simple">
<li><p><em>Boost_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/boost_1_72_0</span></code></p></li>
</ul>
<p><strong>Click on Configure</strong></p>
<p><strong>FFTW:</strong></p>
<ul class="simple">
<li><p><em>FFTW_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8/api</span></code></p></li>
<li><p><em>FFTW_LIBRARY</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8</span></code></p></li>
</ul>
<p><strong>HDF5:</strong></p>
<ul class="simple">
<li><p><em>HDF5_CXX_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include</span></code></p></li>
<li><p><em>HDF5_hdf5_LIBRARY_DEBUG</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64</span></code></p></li>
<li><p><em>HDF5_hdf5_LIBRARY_RELEASE</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64</span></code></p></li>
</ul>
</div>
<div class="section" id="click-again-on-configure-and-if-nothing-is-red-click-on-generate">
<h4>3.4 Click again on <em>Configure</em> and if nothing is red, click on <em>Generate</em><a class="headerlink" href="#click-again-on-configure-and-if-nothing-is-red-click-on-generate" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You may have an error message, but it’s ok if you have <em>Generating done</em> at the end of the process, it’s only warning about the DIR-NOTFOUND but we will edit every links maually in the project.</p>
</div></blockquote>
</div>
<div class="section" id="open-the-project-in-visual-studio-2017">
<h4>4. Open the project in Visual Studio 2017<a class="headerlink" href="#open-the-project-in-visual-studio-2017" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You can click on the <em>Open Project</em> button in CMake</p>
</div></blockquote>
</div>
<div class="section" id="right-click-on-the-prismatic-project-and-go-to-properties-general">
<h4>4.1 Right Click on the <strong>prismatic</strong> project and go to Properties/General:<a class="headerlink" href="#right-click-on-the-prismatic-project-and-go-to-properties-general" title="Permalink to this headline">¶</a></h4>
<p>Make sure to select <strong>Select All Configurations</strong> and the right <strong>Plateform</strong></p>
<ul class="simple">
<li><p><em>Configuration Property/General/Windows SDK Version</em> =&gt; <code class="docutils literal notranslate"><span class="pre">10.0.17763.0</span></code></p></li>
<li><p><em>Configuration Property/General/Plateform tools</em> =&gt; <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">2017</span> <span class="pre">(v141)</span></code></p></li>
<li><p><em>C C++/General/Additionnal Include Directories</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries/prismatic/include;
D:/Libraries/fftw-3.3.8/api;
D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include;
D:/Libraries/boost_1_72_0;
%(AdditionalIncludeDirectories)
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries/prismatic/include;D:/Libraries/fftw-3.3.8/api;D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include;D:/Libraries/boost_1_72_0;%(AdditionalIncludeDirectories)
</pre></div>
</div>
<ul class="simple">
<li><p><em>Linker/Input/Additionnal Dependency</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fftw3f.lib;
libhdf5.lib;
libhdf5_cpp.lib;
libhdf5_hl_cpp.lib;
libhdf5_hl.lib;
%(AdditionalDependencies)
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fftw3f.lib;libhdf5.lib;libhdf5_cpp.lib;libhdf5_hl_cpp.lib;libhdf5_hl.lib;%(AdditionalDependencies)
</pre></div>
</div>
<blockquote>
<div><p>The order in wich the libraries are linked is realy important, that’s even more true when you have like here a program with many links to others libraries, and that these libraries use the base functions of others libraries.</p>
</div></blockquote>
<ul class="simple">
<li><p><strong>Win32 system</strong></p></li>
<li><p><em>Linker/Input/Advanced/Target computer</em> =&gt; <code class="docutils literal notranslate"><span class="pre">MachineX86</span> <span class="pre">(/MACHINE:X86)</span></code></p></li>
<li><p><em>Link editor/Command line/Additional options</em> =&gt; Remove <code class="docutils literal notranslate"><span class="pre">/machine:X64</span></code></p></li>
<li><p><strong>Win64 system</strong></p></li>
<li><p><em>Linker/Input/Advanced/Target computer</em> =&gt; <code class="docutils literal notranslate"><span class="pre">MachineX64</span> <span class="pre">(/MACHINE:X64)</span></code></p></li>
<li><p><em>Link editor/Command line/Additional options</em> =&gt; Remove <code class="docutils literal notranslate"><span class="pre">/machine:X86</span></code></p></li>
</ul>
<p>Click on <strong>Apply</strong> and select <strong>Release:</strong> in Configuration</p>
<ul class="simple">
<li><p><em>Linker/General/Additionnal Library Directories</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries/fftw-3.3.8/Build64/Release;
D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/lib
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries/fftw-3.3.8/Build64/Release;D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/lib;%(AdditionalLibraryDirectories)
</pre></div>
</div>
<ul class="simple">
<li><p><em>Builds Events/Post-Build Event/Command line</em> =&gt; <code class="docutils literal notranslate"><span class="pre">xcopy</span> <span class="pre">/d</span> <span class="pre">/y</span> <span class="pre">&quot;D:/Libraries/fftw-3.3.8/Build64/Release/*.dll&quot;</span> <span class="pre">&quot;$(TargetDir)&quot;</span></code></p></li>
</ul>
</div>
<div class="section" id="in-the-top-bar-make-sure-to-select-release-and-the-right-plateform-then-click-on-run">
<h4>5. In the top bar, make sure to select Release and the right Plateform, then Click on Run<a class="headerlink" href="#in-the-top-bar-make-sure-to-select-release-and-the-right-plateform-then-click-on-run" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You may have an error popup when the project try to run the ALL BUILD version, just run manually the build file with <code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic/Build64/Release/prismatic.exe</span></code></p>
</div></blockquote>
</div>
<div class="section" id="you-can-get-the-prismatic-exe-and-fftwf-dll-files-at-d-libraries-prismatic-build64-release-and-move-them-to-another-directory-if-at-least-these-files-are-in-the-same-folder-the-program-will-work">
<h4>6. You can get the <strong>prismatic.exe</strong> and <strong>fftwf.dll</strong> files at D:\Libraries\prismatic\Build64\Release and move them to another directory, if at least these files are in the same folder the program will work<a class="headerlink" href="#you-can-get-the-prismatic-exe-and-fftwf-dll-files-at-d-libraries-prismatic-build64-release-and-move-them-to-another-directory-if-at-least-these-files-are-in-the-same-folder-the-program-will-work" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="test">
<h3>Test:<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h3>
<div class="section" id="copy-the-prismatic-exe-and-fftwf-dll-files-in-a-new-directory">
<h4>7. Copy the <strong>prismatic.exe</strong> and <strong>fftwf.dll</strong> files in a new directory<a class="headerlink" href="#copy-the-prismatic-exe-and-fftwf-dll-files-in-a-new-directory" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="create-a-new-file-si100-xyz-in-this-directory">
<h4>7.1 Create a new file “SI100.XYZ” in this directory<a class="headerlink" href="#create-a-new-file-si100-xyz-in-this-directory" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="open-it-and-paste-these-datas">
<h4>7.1 Open it and paste these datas:<a class="headerlink" href="#open-it-and-paste-these-datas" title="Permalink to this headline">¶</a></h4>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>one unit cell of (100) silicon
      5.43    5.43    5.43
  14  0.0000  0.0000  0.0000  1.0  0.076
  14  2.7150  2.7150  0.0000  1.0  0.076
  14  1.3575  4.0725  1.3575  1.0  0.076
  14  4.0725  1.3575  1.3575  1.0  0.076
  14  2.7150  0.0000  2.7150  1.0  0.076
  14  0.0000  2.7150  2.7150  1.0  0.076
  14  1.3575  1.3575  4.0725  1.0  0.076
  14  4.0725  4.0725  4.0725  1.0  0.076
  -1
</pre></div>
</div>
</div>
<div class="section" id="open-a-cmd-in-the-directory">
<h4>8. Open a cmd in the directory<a class="headerlink" href="#open-a-cmd-in-the-directory" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>prismatic.exe --input-file <span class="s2">&quot;Path/to/the/directory/SI100.XYZ&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="wait-for-the-prism-calculation-complete-message-to-be-displayed">
<h4>8.1 Wait for the <em>PRISM Calculation complete</em> message to be displayed<a class="headerlink" href="#wait-for-the-prism-calculation-complete-message-to-be-displayed" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="if-you-have-python-with-the-hdf5-library-you-can-use-this-to-explore-the-hdf-file">
<h4>8.2 If you have python with the hdf5 library, you can use this to explore the HDF file<a class="headerlink" href="#if-you-have-python-with-the-hdf5-library-you-can-use-this-to-explore-the-hdf-file" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">h5py</span>

<span class="c1">#Recursively find the subfiles and display the structure like the tree function</span>
<span class="k">def</span> <span class="nf">recursiveHDF</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">pathstring</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="c1">#Test if it is an hdf subfolder</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;keys&#39;</span><span class="p">):</span>
        
        <span class="c1">#List the subkeys of this folder</span>
        <span class="n">subkeys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        
        <span class="c1">#Test if it is empty</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subkeys</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">pathstring</span> <span class="o">+</span> <span class="s1">&#39;└─── empty&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1">#Print every subdirectory</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">subkeys</span><span class="p">)):</span>
                <span class="n">subkey</span> <span class="o">=</span> <span class="n">subkeys</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
                <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="o">+</span><span class="mi">1</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">subkeys</span><span class="p">)):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">pathstring</span> <span class="o">+</span> <span class="s1">&#39;└─── &#39;</span> <span class="o">+</span> <span class="n">subkey</span><span class="p">)</span>
                    <span class="n">recursiveHDF</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">subkey</span><span class="p">],</span> <span class="n">pathstring</span><span class="o">+</span><span class="s1">&#39;     &#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">pathstring</span> <span class="o">+</span> <span class="s1">&#39;├─── &#39;</span> <span class="o">+</span> <span class="n">subkey</span><span class="p">)</span> 
                    <span class="n">recursiveHDF</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">subkey</span><span class="p">],</span> <span class="n">pathstring</span><span class="o">+</span><span class="s1">&#39;│    &#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">pathstring</span> <span class="o">+</span> <span class="s1">&#39;└─── matrix&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s1">&#39;path/to/output.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">recursiveHDF</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="prismatic-gui">
<h2>Prismatic GUI<a class="headerlink" href="#prismatic-gui" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id10">
<h3>Ressources:<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.qt.io/">Qt website</a></p></li>
<li><p><a class="reference external" href="https://stackoverflow.com/questions/6626397/error-lnk2019-unresolved-external-symbol-winmain16-referenced-in-function">Qt Visual Studio</a></p></li>
</ul>
<div class="section" id="download-qt">
<h4>1. Download <a class="reference external" href="http://ftp.fau.de/qtproject/archive/online_installers/3.2/qt-unified-windows-x86-3.2.2-online.exe">Qt</a><a class="headerlink" href="#download-qt" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="create-an-qt-account-here">
<h4>1.1 Create an Qt account <a class="reference external" href="https://login.qt.io/register">here</a><a class="headerlink" href="#create-an-qt-account-here" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="select-in-the-installer-the-qt-path-at-d-libraries-qt-and-select-the-right-version-for-the-compilation">
<h4>1.2 Select in the installer the Qt path at <code class="docutils literal notranslate"><span class="pre">D:/Libraries/Qt</span></code> and select the right version for the compilation:<a class="headerlink" href="#select-in-the-installer-the-qt-path-at-d-libraries-qt-and-select-the-right-version-for-the-compilation" title="Permalink to this headline">¶</a></h4>
<p><strong>Win32 system</strong></p>
<ul class="simple">
<li><p><strong>Qt 5.14.2 MSCV 2017 32-Bits</strong></p></li>
</ul>
<p><strong>Win64 system</strong></p>
<ul class="simple">
<li><p><strong>Qt 5.14.2 MSCV 2017 64-Bits</strong></p></li>
</ul>
</div>
<div class="section" id="create-a-new-folder-ex-prismatic-master-build64gui-where-the-library-will-be-compiled">
<h4>2. Create a new folder (ex: <em>prismatic-master/Build64GUI</em>) where the library will be compiled<a class="headerlink" href="#create-a-new-folder-ex-prismatic-master-build64gui-where-the-library-will-be-compiled" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/prismatic/Build64GUI
</pre></div>
</div>
</div>
<div class="section" id="open-prismatic-master-pro-d-libraries-prismatic-qt-prismatic-master-pro-in-a-text-editor">
<h4>2.1 Open <strong>prismatic-master.pro</strong> (D:/Libraries/prismatic/Qt/prismatic-master.pro) in a text editor:<a class="headerlink" href="#open-prismatic-master-pro-d-libraries-prismatic-qt-prismatic-master-pro-in-a-text-editor" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>notepad D:/Libraries/prismatic/Qt/prismatic-gui.pro
</pre></div>
</div>
<p>Then add at the end</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>CONFIG += console
</pre></div>
</div>
</div>
<div class="section" id="optional-open-cmakelists-txt-in-the-prismatic-master-source-code-and-check-that-the-paths-to-the-icons-are-good-if-not-replace-qt-by-qt">
<h4>2.2 (Optional) Open CMakeLists.txt in the prismatic-master source code and check that the paths to the icons are good (if not replace ../Qt by Qt).<a class="headerlink" href="#optional-open-cmakelists-txt-in-the-prismatic-master-source-code-and-check-that-the-paths-to-the-icons-are-good-if-not-replace-qt-by-qt" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="you-can-also-add-the-link-to-qt-to-the-path-d-libraries-qt">
<h4>2.3 You can also add the link to Qt to the PATH: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/Qt</span></code><a class="headerlink" href="#you-can-also-add-the-link-to-qt-to-the-path-d-libraries-qt" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id11">
<h4>3. Open the CMake GUI<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id12">
<h4>3.1 Complete the links with the code source directory and the build directory<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Where is the source code: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic</span></code></p></li>
<li><p>Where to build the binaries: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic/Build64GUI</span></code></p></li>
</ul>
</div>
<div class="section" id="id13">
<h4>3.2 Click on <em>Configure</em> and select <em>Visual Studio 15 2017</em><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<p><strong>Win32 system</strong></p>
<ul class="simple">
<li><p>Select <code class="docutils literal notranslate"><span class="pre">Win32</span></code> in the Optional Plateform Generator</p></li>
</ul>
<p><strong>Win64 system</strong></p>
<ul class="simple">
<li><p>Select <code class="docutils literal notranslate"><span class="pre">x64</span></code> in the Optional Plateform Generator</p></li>
</ul>
</div>
<div class="section" id="check-grouped-and-advanced-then-check-prismatic-enable-gui-and-prismatic-enable-cli">
<h4>3.3 Check <strong>Grouped</strong> and <strong>Advanced</strong>, then check <strong>PRISMATIC_ENABLE_GUI</strong> and <strong>PRISMATIC_ENABLE_CLI</strong><a class="headerlink" href="#check-grouped-and-advanced-then-check-prismatic-enable-gui-and-prismatic-enable-cli" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="complete-the-missing-links-to-the-compiled-libraries">
<h4>3.4 Complete the missing links to the compiled libraries:<a class="headerlink" href="#complete-the-missing-links-to-the-compiled-libraries" title="Permalink to this headline">¶</a></h4>
<p><strong>BOOST</strong></p>
<ul class="simple">
<li><p><em>Boost_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/boost_1_72_0</span></code></p></li>
</ul>
<p><strong>Click on Configure</strong></p>
<p><strong>FFTW:</strong></p>
<ul class="simple">
<li><p><em>FFTW_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8/api</span></code></p></li>
<li><p><em>FFTW_LIBRARY</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8</span></code></p></li>
</ul>
<p><strong>HDF5:</strong></p>
<ul class="simple">
<li><p><em>HDF5_CXX_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include</span></code></p></li>
<li><p><em>HDF5_hdf5_LIBRARY_DEBUG</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64</span></code></p></li>
<li><p><em>HDF5_hdf5_LIBRARY_RELEASE</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64</span></code></p></li>
</ul>
<p><strong>Click on Configure</strong></p>
<p><strong>Ungouped Entries (QT5):</strong></p>
<ul class="simple">
<li><p><em>QT5Widgets_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/Qt/5.14.2/msvc2017_64/lib/cmake/Qt5Widgets</span></code></p></li>
</ul>
<p><strong>Click on Configure</strong></p>
</div>
<div class="section" id="click-again-on-configure-and-if-nothing-is-still-red-click-on-generate">
<h4>3.5 Click again on Configure and if nothing is still red, click on Generate<a class="headerlink" href="#click-again-on-configure-and-if-nothing-is-still-red-click-on-generate" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You may again have an error message, but it’s ok if you have <em>Generating done</em> at the end of the process, it’s only warning about the DIR-NOTFOUND but we will edit every links maually in the project.</p>
</div></blockquote>
</div>
<div class="section" id="id14">
<h4>4. Open the project in Visual Studio 2017<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You can click on the <em>Open Project</em> button in CMake</p>
</div></blockquote>
</div>
<div class="section" id="select-both-prismatic-and-prismatic-gui-with-ctrl-click">
<h4>4.1 Select both <strong>prismatic</strong> and <strong>prismatic-gui</strong> with <em>Ctrl</em> + <em>Click</em><a class="headerlink" href="#select-both-prismatic-and-prismatic-gui-with-ctrl-click" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="right-click-on-a-project-and-go-to-properties-general">
<h4>4.2 Right Click on a project and go to Properties/General:<a class="headerlink" href="#right-click-on-a-project-and-go-to-properties-general" title="Permalink to this headline">¶</a></h4>
<p>Make sure to select <strong>Select All Configurations</strong> and the right <strong>Plateform</strong></p>
<ul class="simple">
<li><p><em>Configuration Property/General/Windows SDK Version</em> =&gt; <code class="docutils literal notranslate"><span class="pre">10.0.17763.0</span></code></p></li>
<li><p><em>Configuration Property/General/Plateform tools</em> =&gt; <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">2017</span> <span class="pre">(v141)</span></code></p></li>
<li><p><em>C C++/General/Additionnal Include Directories</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries/prismatic/include;
D:/Libraries/fftw-3.3.8/api;
D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include;
D:/Libraries/boost_1_72_0;

D:/Libraries/prismatic;
D:/Libraries/prismatic/include;
D:/Libraries/prismatic/Qt;

D:/Libraries/Qt/5.14.2/msvc2017_64;
D:/Libraries/Qt/5.14.2/msvc2017_64/lib;
D:/Libraries/Qt/5.14.2/msvc2017_64/include;
D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtWidgets;
D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtGui;
D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtCore;

D:/Libraries/prismatic/Build64GUI;
D:/Libraries/prismatic/Build64GUI/prismatic-gui_autogen/include_Release;
%(AdditionalIncludeDirectories)
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries/prismatic/include;D:/Libraries/fftw-3.3.8/api;D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include;D:/Libraries/boost_1_72_0;D:/Libraries/prismatic;D:/Libraries/prismatic/include;D:/Libraries/prismatic/Qt;D:/Libraries/Qt/5.14.2/msvc2017_64;D:/Libraries/Qt/5.14.2/msvc2017_64/lib;D:/Libraries/Qt/5.14.2/msvc2017_64/include;D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtWidgets;D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtGui;D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtCore;D:/Libraries/prismatic/Build64GUI;D:/Libraries/prismatic/Build64GUI/prismatic-gui_autogen/include_Release;%(AdditionalIncludeDirectories)
</pre></div>
</div>
<ul class="simple">
<li><p><em>Linker/Input/Additionnal Dependency</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fftw3f.lib;
libhdf5_hl.lib;
libhdf5.lib;
libhdf5_hl_cpp.lib;
libhdf5_cpp.lib;
Qt5Widgets.lib;
Qt5Gui.lib;
Qt5Core.lib;
qtmain.lib;
shell32.lib;
WindowsApp.lib;
%(AdditionalDependencies)
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fftw3f.lib;libhdf5_hl.lib;libhdf5.lib;libhdf5_hl_cpp.lib;libhdf5_cpp.lib;Qt5Widgets.lib;Qt5Gui.lib;Qt5Core.lib;qtmain.lib;shell32.lib;WindowsApp.lib;%(AdditionalDependencies)
</pre></div>
</div>
<blockquote>
<div><p>The order in wich the libraries are linked is realy important, that’s even more true when you have like here a program with many links to others libraries, and that these libraries use the base functions of others libraries.</p>
</div></blockquote>
<ul class="simple">
<li><p><strong>Win32 system</strong></p></li>
<li><p><em>Linker/Input/Advanced/Target computer</em> =&gt; <code class="docutils literal notranslate"><span class="pre">MachineX86</span> <span class="pre">(/MACHINE:X86)</span></code></p></li>
<li><p><em>Link editor/Command line/Additional options</em> =&gt; Remove <code class="docutils literal notranslate"><span class="pre">/machine:X64</span></code></p></li>
<li><p><strong>Win64 system</strong></p></li>
<li><p><em>Linker/Input/Advanced/Target computer</em> =&gt; <code class="docutils literal notranslate"><span class="pre">MachineX64</span> <span class="pre">(/MACHINE:X64)</span></code></p></li>
<li><p><em>Link editor/Command line/Additional options</em> =&gt; Remove <code class="docutils literal notranslate"><span class="pre">/machine:X86</span></code></p></li>
</ul>
<p>Click on <strong>Apply</strong> and select <strong>Release:</strong> in Configuration</p>
<ul class="simple">
<li><p><em>Linker/General/Additionnal Library Directories</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries/boost_1_72_0/stage/lib;
D:/Libraries/fftw-3.3.8/Build64/Release;
D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/lib;
D:/Libraries/Qt/5.14.2/msvc2017_64/lib;

%(AdditionalLibraryDirectories)
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>D:/Libraries/boost_1_72_0/stage/lib;D:/Libraries/fftw-3.3.8/Build64/Release;D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/lib;D:/Libraries/Qt/5.14.2/msvc2017_64/lib;%(AdditionalLibraryDirectories)
</pre></div>
</div>
<ul class="simple">
<li><p><em>Builds Events/Post-Build Event/Command line</em> =&gt;</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xcopy /d /y <span class="s2">&quot;D:/Libraries/fftw-3.3.8/Build64/Debug/*.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">&quot;</span>

xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/5.14.2/msvc2017_64/bin/Qt5Core.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">&quot;</span>
xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/5.14.2/msvc2017_64/bin/Qt5Gui.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">&quot;</span>
xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/5.14.2/msvc2017_64/bin/Qt5Widgets.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">&quot;</span>

mkdir <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">/platforms&quot;</span>
xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/Tools/QtCreator/bin/libEGL.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">/platforms&quot;</span>
xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/5.14.2/msvc2017_64/plugins/platforms/qwindows.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">/platforms&quot;</span>
</pre></div>
</div>
<p>Click on <strong>Apply</strong></p>
<p><strong>Select only the properties for prismatic-gui and check that these parameters are good:</strong></p>
<ul class="simple">
<li><p><em>Linker/System/Sub-System</em> =&gt; Windows (/SUBSYSTEM:WINDOWS)</p></li>
<li><p><em>Linker/Advanced/Importation libraries</em> =&gt; D:/Libraries/prismatic/Build64GUI/Release/prismatic-gui.lib</p></li>
<li><p><em>C/C++/Preprocessor/Preprocessor definition</em> =&gt;</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WIN32</span><span class="p">;</span><span class="n">_WINDOWS</span><span class="p">;</span><span class="n">NDEBUG</span><span class="p">;</span><span class="n">PRISMATIC_BUILDING_GUI</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">PRISMATIC_ENABLE_GUI</span><span class="p">;</span><span class="n">PRISMATIC_ENABLE_CLI</span><span class="p">;</span><span class="n">QT_WIDGETS_LIB</span><span class="p">;</span><span class="n">QT_GUI_LIB</span><span class="p">;</span><span class="n">QT_CORE_LIB</span><span class="p">;</span><span class="n">QT_NO_DEBUG</span><span class="p">;</span><span class="n">CMAKE_INTDIR</span><span class="o">=</span><span class="s2">&quot;Release&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h4>5. In the top bar, make sure to select Release and the right Plateform, then Click on Run<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You may have an error popup when the project try to run the ALL BUILD version, just run manually the build file with
<code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic/Build64/Release/prismatic.exe</span></code></p>
</div></blockquote>
</div>
</div>
<div class="section" id="test-prismatic-performances">
<h3>Test Prismatic Performances:<a class="headerlink" href="#test-prismatic-performances" title="Permalink to this headline">¶</a></h3>
<p><strong>Win32 and Win64 system</strong></p>
<ul class="simple">
<li><p>Open a Windows PowerShell in the prismatic/Build/Release folder and add the data test file “SI100.XYZ”</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Measure-Command <span class="o">{</span>./prismatic.exe --input-file <span class="s2">&quot;SI100.XYZ&quot;</span><span class="o">}</span>
</pre></div>
</div>
<p><strong>Example comparing the Base Build (316ms for this simple file) and the GPU Build (857ms for one file, but should be more effective the more complex and time-consuming the computations are for the CPU)</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#Base Build  </span>
Measure-Command <span class="o">{</span>./prismatic.exe --input-file <span class="s2">&quot;SI100.XYZ&quot;</span><span class="o">}</span>  
  
Days              : <span class="m">0</span>  
Hours             : <span class="m">0</span>  
Minutes           : <span class="m">0</span>  
Seconds           : <span class="m">0</span>  
Milliseconds      : <span class="m">316</span>  
Ticks             : <span class="m">3163259</span>  
TotalDays         : <span class="m">3</span>,66117939814815E-06  
TotalHours        : <span class="m">8</span>,78683055555556E-05  
TotalMinutes      : <span class="m">0</span>,00527209833333333  
TotalSeconds      : <span class="m">0</span>,3163259  
TotalMilliseconds : <span class="m">316</span>,3259  

<span class="c1">#GPU Build  </span>
Measure-Command <span class="o">{</span>./prismatic.exe --input-file <span class="s2">&quot;SI100.XYZ&quot;</span><span class="o">}</span>  
  
Days              : <span class="m">0</span>  
Hours             : <span class="m">0</span>  
Minutes           : <span class="m">0</span>  
Seconds           : <span class="m">0</span>  
Milliseconds      : <span class="m">857</span>  
Ticks             : <span class="m">8571921</span>  
TotalDays         : <span class="m">9</span>,92120486111111E-06  
TotalHours        : <span class="m">0</span>,000238108916666667  
TotalMinutes      : <span class="m">0</span>,014286535  
TotalSeconds      : <span class="m">0</span>,8571921  
TotalMilliseconds : <span class="m">857</span>,1921  
</pre></div>
</div>
</div>
</div>
<div class="section" id="prismatic-gpu">
<h2>Prismatic GPU<a class="headerlink" href="#prismatic-gpu" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>Ressources:<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/index.html">CUDA Installation</a></p></li>
<li><p><a class="reference external" href="https://stackoverflow.com/questions/6626397/error-lnk2019-unresolved-external-symbol-winmain16-referenced-in-function">CUDA Linker error</a></p></li>
</ul>
<div class="section" id="download-the-cuda-toolkit-10-2-for-windows-v10">
<h4>1. Download the <a class="reference external" href="https://developer.nvidia.com/cuda-downloads">CUDA</a> Toolkit 10.2 for Windows (v10)<a class="headerlink" href="#download-the-cuda-toolkit-10-2-for-windows-v10" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="make-sure-that-you-have-a-graphical-card-compatible-with-cuda">
<h4>1.1 Make sure that you have a Graphical card compatible with CUDA<a class="headerlink" href="#make-sure-that-you-have-a-graphical-card-compatible-with-cuda" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="cuda-will-be-installed-at-c-program-files-nvidia-gpu-computing-toolkit-cuda-v10-2">
<h4>1.2 Cuda will be installed at <code class="docutils literal notranslate"><span class="pre">C:/Program</span> <span class="pre">Files/NVIDIA</span> <span class="pre">GPU</span> <span class="pre">Computing</span> <span class="pre">Toolkit/CUDA/v10.2</span></code><a class="headerlink" href="#cuda-will-be-installed-at-c-program-files-nvidia-gpu-computing-toolkit-cuda-v10-2" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You can test the installation by running <code class="docutils literal notranslate"><span class="pre">nvcc</span> <span class="pre">-V</span></code> to check the Version on the instalation. If the call to nvcc don’t work, make sure to add this link to the PATH: <code class="docutils literal notranslate"><span class="pre">C:/Program</span> <span class="pre">Files/NVIDIA</span> <span class="pre">GPU</span> <span class="pre">Computing</span> <span class="pre">Toolkit/CUDA/v10.2/bin</span></code>
You can even compile some of the tests codes at <code class="docutils literal notranslate"><span class="pre">C:/ProgramData/NVIDIA</span> <span class="pre">Corporation/CUDA</span> <span class="pre">Samples/v10.2</span></code>
the .exe will be built at <code class="docutils literal notranslate"><span class="pre">C:/ProgramData/NVIDIA</span> <span class="pre">Corporation/CUDA</span> <span class="pre">Samples/v10.2/bin/win64</span></code></p>
</div></blockquote>
</div>
<div class="section" id="create-a-new-folder-ex-prismatic-master-build64gpu-where-the-library-will-be-compiled">
<h4>2. Create a new folder (ex: <em>prismatic-master/Build64GPU</em>) where the library will be compiled<a class="headerlink" href="#create-a-new-folder-ex-prismatic-master-build64gpu-where-the-library-will-be-compiled" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir D:/Libraries/prismatic/Build64GPU
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h4>2.1 Open <strong>prismatic-master.pro</strong> (D:/Libraries/prismatic/Qt/prismatic-master.pro) in a text editor:<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>notepad D:/Libraries/prismatic/Qt/prismatic-gui.pro
</pre></div>
</div>
<p>Then add at the end</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CONFIG</span> <span class="o">+=</span> console
</pre></div>
</div>
</div>
<div class="section" id="id18">
<h4>3. Open the CMake GUI<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id19">
<h4>3.1 Complete the links with the code source directory and the build directory<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Where is the source code: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic</span></code></p></li>
<li><p>Where to build the binaries: <code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic/Build64GPU</span></code></p></li>
</ul>
</div>
<div class="section" id="id20">
<h4>3.2 Click on <em>Configure</em> and select <em>Visual Studio 15 2017</em><a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="check-grouped-and-advanced-then-check-prismatic-enable-gpu-prismatic-enable-gui-and-prismatic-enable-cli">
<h4>3.3 Check <strong>Grouped</strong> and <strong>Advanced</strong>, then check <strong>PRISMATIC_ENABLE_GPU</strong>, <strong>PRISMATIC_ENABLE_GUI</strong> and <strong>PRISMATIC_ENABLE_CLI</strong><a class="headerlink" href="#check-grouped-and-advanced-then-check-prismatic-enable-gpu-prismatic-enable-gui-and-prismatic-enable-cli" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="click-on-configure-then-complete-the-missing-links-to-the-compiled-libraries">
<h4>3.4 <strong>Click on Configure</strong> Then complete the missing links to the compiled libraries:<a class="headerlink" href="#click-on-configure-then-complete-the-missing-links-to-the-compiled-libraries" title="Permalink to this headline">¶</a></h4>
<p><strong>BOOST</strong></p>
<ul class="simple">
<li><p><em>Boost_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/boost_1_72_0</span></code></p></li>
</ul>
<p><strong>Click on Configure</strong></p>
<p><strong>FFTW:</strong></p>
<ul class="simple">
<li><p><em>FFTW_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8/api</span></code></p></li>
<li><p><em>FFTW_LIBRARY</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/fftw-3.3.8</span></code></p></li>
</ul>
<p><strong>HDF5:</strong></p>
<ul class="simple">
<li><p><em>HDF5_CXX_INCLUDE_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include</span></code></p></li>
<li><p><em>HDF5_hdf5_LIBRARY_DEBUG</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64</span></code></p></li>
<li><p><em>HDF5_hdf5_LIBRARY_RELEASE</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64</span></code></p></li>
</ul>
<p><strong>Click on Configure</strong></p>
<p><strong>Ungouped Entries (QT5):</strong></p>
<ul class="simple">
<li><p><em>QT5Widgets_DIR</em> =&gt; <code class="docutils literal notranslate"><span class="pre">D:/Libraries/Qt/5.14.2/msvc2017_64/lib/cmake/Qt5Widgets</span></code></p></li>
</ul>
<p><strong>Click on Configure</strong></p>
<p><strong>CUDA:</strong></p>
<ul class="simple">
<li><p><em>CUDA_64_BITS_DEVICE_CODE</em> =&gt; make sure that it’s checked if you build in x64</p></li>
</ul>
<p><strong>Click on Configure</strong></p>
</div>
<div class="section" id="id21">
<h4>3.5 Click again on Configure and if nothing is still red, click on Generate<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You may again have an error message, but it’s ok if you have <em>Generating done</em> at the end of the process, it’s only warning about the DIR-NOTFOUND but we will edit every links maually in the project.</p>
</div></blockquote>
</div>
<div class="section" id="id22">
<h4>4. Open the project in Visual Studio 2017<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You can click on the <em>Open Project</em> button in CMake</p>
</div></blockquote>
</div>
<div class="section" id="id23">
<h4>4.1 Select both <strong>prismatic</strong> and <strong>prismatic-gui</strong> with <em>Ctrl</em> + <em>Click</em><a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id24">
<h4>4.2 Right Click on a project and go to Properties/General:<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<p>Make sure to select <strong>Select All Configurations</strong> and the right <strong>Plateform</strong></p>
<ul class="simple">
<li><p><em>Configuration Property/General/Windows SDK Version</em> =&gt; <code class="docutils literal notranslate"><span class="pre">10.0.17763.0</span></code></p></li>
<li><p><em>Configuration Property/General/Plateform tools</em> =&gt; <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">2017</span> <span class="pre">(v141)</span></code></p></li>
<li><p><em>C C++/General/Additionnal Include Directories</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v10.2/include;

D:/Libraries/prismatic/include;
D:/Libraries/fftw-3.3.8/api;
D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include;
D:/Libraries/boost_1_72_0;

D:/Libraries/prismatic;
D:/Libraries/prismatic/include;
D:/Libraries/prismatic/Qt;

D:/Libraries/Qt/5.14.2/msvc2017_64;
D:/Libraries/Qt/5.14.2/msvc2017_64/lib;
D:/Libraries/Qt/5.14.2/msvc2017_64/include;
D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtWidgets;
D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtGui;
D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtCore;

D:/Libraries/prismatic/Build64GPU;
D:/Libraries/prismatic/Build64GPU/prismatic-gui_autogen/include_Release;
%(AdditionalIncludeDirectories)
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v10.2/include; D:/Libraries/prismatic/include; D:/Libraries/fftw-3.3.8/api; D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/include; D:/Libraries/boost_1_72_0; D:/Libraries/prismatic; D:/Libraries/prismatic/include; D:/Libraries/prismatic/Qt; D:/Libraries/Qt/5.14.2/msvc2017_64; D:/Libraries/Qt/5.14.2/msvc2017_64/lib; D:/Libraries/Qt/5.14.2/msvc2017_64/include; D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtWidgets; D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtGui; D:/Libraries/Qt/5.14.2/msvc2017_64/include/QtCore; D:/Libraries/prismatic/Build64GPU; D:/Libraries/prismatic/Build64GPU/prismatic-gui_autogen/include_Release; %(AdditionalIncludeDirectories)
</pre></div>
</div>
<ul class="simple">
<li><p><em>Linker/Input/Additionnal Dependency</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>cudart_static.lib;
cufft.lib;
fftw3f.lib;
libhdf5_hl.lib;
libhdf5.lib;
libhdf5_hl_cpp.lib;
libhdf5_cpp.lib;
Qt5Widgets.lib;
Qt5Gui.lib;
Qt5Core.lib;
qtmain.lib;
shell32.lib;
WindowsApp.lib;
%(AdditionalDependencies)
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>cudart_static.lib;cufft.lib;fftw3f.lib;libhdf5_hl.lib;libhdf5.lib;libhdf5_hl_cpp.lib;libhdf5_cpp.lib;Qt5Widgets.lib;Qt5Gui.lib;Qt5Core.lib;qtmain.lib;shell32.lib;WindowsApp.lib;%(AdditionalDependencies)
</pre></div>
</div>
<blockquote>
<div><p>The order in wich the libraries are linked is realy important, that’s even more true when you have like here a program with many links to others libraries, and that these libraries use the base functions of others libraries.</p>
</div></blockquote>
<ul class="simple">
<li><p><strong>Win32 system</strong></p></li>
<li><p><em>Linker/Input/Advanced/Target computer</em> =&gt; <code class="docutils literal notranslate"><span class="pre">MachineX86</span> <span class="pre">(/MACHINE:X86)</span></code></p></li>
<li><p><em>Link editor/Command line/Additional options</em> =&gt; Remove <code class="docutils literal notranslate"><span class="pre">/machine:X64</span></code></p></li>
<li><p><strong>Win64 system</strong></p></li>
<li><p><em>Linker/Input/Advanced/Target computer</em> =&gt; <code class="docutils literal notranslate"><span class="pre">MachineX64</span> <span class="pre">(/MACHINE:X64)</span></code></p></li>
<li><p><em>Link editor/Command line/Additional options</em> =&gt; Remove <code class="docutils literal notranslate"><span class="pre">/machine:X86</span></code></p></li>
</ul>
<p>Click on <strong>Apply</strong> and select <strong>Release:</strong> in Configuration</p>
<ul class="simple">
<li><p><em>Linker/General/Additionnal Library Directories</em> =&gt;</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v10.2/lib/x64;
D:/Libraries/boost_1_72_0/stage/lib;
D:/Libraries/fftw-3.3.8/Build64/Release;
D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/lib;
D:/Libraries/Qt/5.14.2/msvc2017_64/lib;

%(AdditionalLibraryDirectories)
</pre></div>
</div>
<p><em>For fast copy: <kbd>CTRL+C</kbd> this line then click in the VS textbox, <kbd>CTRL+A</kbd> and <kbd>CTRL+V</kbd></em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v10.2/lib/x64; D:/Libraries/boost_1_72_0/stage/lib; D:/Libraries/fftw-3.3.8/Build64/Release; D:/Libraries/hdf5-1.12.0/Build64/_CPack_Packages/win64/ZIP/HDF5-1.12.0-win64/lib; D:/Libraries/Qt/5.14.2/msvc2017_64/lib; %(AdditionalLibraryDirectories)
</pre></div>
</div>
<ul class="simple">
<li><p><em>Builds Events/Post-Build Event/Command line</em> =&gt;</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xcopy /d /y <span class="s2">&quot;D:/Libraries/fftw-3.3.8/Build64/Debug/*.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">&quot;</span>

xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/5.14.2/msvc2017_64/bin/Qt5Core.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">&quot;</span>
xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/5.14.2/msvc2017_64/bin/Qt5Gui.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">&quot;</span>
xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/5.14.2/msvc2017_64/bin/Qt5Widgets.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">&quot;</span>

mkdir <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">/platforms&quot;</span>
xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/Tools/QtCreator/bin/libEGL.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">/platforms&quot;</span>
xcopy /d /y <span class="s2">&quot;D:/Libraries/Qt/5.14.2/msvc2017_64/plugins/platforms/qwindows.dll&quot;</span> <span class="s2">&quot;</span><span class="k">$(</span>TargetDir<span class="k">)</span><span class="s2">/platforms&quot;</span>
</pre></div>
</div>
<p>Click on <strong>Apply</strong></p>
<p><strong>Select only the properties for prismatic-gui and check that these parameters are good:</strong></p>
<ul class="simple">
<li><p><em>Linker/System/Sub-System</em> =&gt; Windows (/SUBSYSTEM:WINDOWS)</p></li>
<li><p><em>Linker/Advanced/Importation libraries</em> =&gt; D:/Libraries/prismatic/Build64GUI/Release/prismatic-gui.lib</p></li>
<li><p><em>C/C++/Preprocessor/Preprocessor definition</em> =&gt;</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WIN32</span><span class="p">;</span><span class="n">_WINDOWS</span><span class="p">;</span><span class="n">NDEBUG</span><span class="p">;</span><span class="n">PRISMATIC_BUILDING_GUI</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">PRISMATIC_ENABLE_GUI</span><span class="p">;</span><span class="n">PRISMATIC_ENABLE_CLI</span><span class="p">;</span><span class="n">QT_WIDGETS_LIB</span><span class="p">;</span><span class="n">QT_GUI_LIB</span><span class="p">;</span><span class="n">QT_CORE_LIB</span><span class="p">;</span><span class="n">QT_NO_DEBUG</span><span class="p">;</span><span class="n">CMAKE_INTDIR</span><span class="o">=</span><span class="s2">&quot;Release&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="make-sure-to-desactivate-the-antivirus-because-it-can-block-some-files-and-corrupt-the-process">
<h4>5. Make sure to desactivate the antivirus because it can block some files and corrupt the process<a class="headerlink" href="#make-sure-to-desactivate-the-antivirus-because-it-can-block-some-files-and-corrupt-the-process" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="if-you-use-cuda-10-0-you-may-have-an-error-with-mutex-h-go-in-this-file-and-replace-the-line-133">
<h4>5.1 If you use CUDA 10.0, you may have an error with mutex.h, go in this file and replace the line 133:<a class="headerlink" href="#if-you-use-cuda-10-0-you-may-have-an-error-with-mutex-h-go-in-this-file-and-replace-the-line-133" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="nf">QMutex</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
</pre></div>
</div>
<p>with</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span> <span class="nf">QMutex</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id25">
<h4>5.2 In the top bar, make sure to select Release and the right Plateform, then Click on Run<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>You may have an error popup when the project try to run the ALL BUILD version, just run manually the build file with
<code class="docutils literal notranslate"><span class="pre">D:/Libraries/prismatic/Build64/Release/prismatic.exe</span></code></p>
</div></blockquote>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, LHOUTELLIER Maël

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
    
        <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
            <span class="rst-current-version" data-toggle="rst-current-version">
                <span class="fa fa-book"> Help Sheet</span>
                    v: latest
                <span class="fa fa-caret-down"></span>
            </span>
            
            <div class="rst-other-versions">
                <dl>
                    <dt>Versions</dt>
                    
                        <dd><a href="#">latest</a></dd>
                        <dd><a href="#">1.0</a></dd>
                        <dd><a href="#">1.1</a></dd>
                    
                </dl>

                 <dl>
                    <dt>Downloads</dt>
                    <dd><a href="#">PDF</a></dd>
                    <dd><a href="#">ePub</a></dd>
                    <dd><a href="#">HTML</a></dd>
                </dl>
                
                <dl>
                    <dt>Informations</dt>
                    <dd><a href="https://github.com/mlhoutel/Help-Sheet">Project Git</a></dd>
                    <dd><a href="https://mlhoutel.github.io/maellhoutellier.com/">My website</a></dd>
                </dl>

                <dl>
                    <dt>Debug</dt>
                    <dd><a href="#" data-toggle="rst-debug-badge">Swap badge position</a></dd>
                </dl>
            </div>
        </div>
    
    
    <style>
        :root {
            --c-blue: #2980B9;     /* Black    [31;  39;  45]  */
            --c-grey: #24313A;
        }

        /* Sidebar header (and topbar for mobile) */
        .wy-side-nav-search, .wy-nav-top {
            background: var(--c-blue);
        }
        /* Sidebar */
        .wy-nav-side {
            background: var(--c-grey);
        }
    </style>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js"></script>

    <script type="text/javascript" charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/1.3.5/jsxgraphcore.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/1.3.5/jsxgraph.css" />



</body>
</html>